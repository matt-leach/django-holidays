{% load holiday_utils %}

<h2 class="holidaysYear">{{ year }}</h2>
<h6 class="holidaysRemaining">{{ user|holidays_remaining:year }} days of holiday remaining</h6>

<table class="holidaysTable">
	{% for holiday in user.holidays.all|by_year:year %}
		<tr>
			<td class="holidaysDate">{{ holiday.start_date }} - {{ holiday.end_date }}</td>
			<td class="holidaysApproval">
				{% if holiday.approved %}
					<button class="holidaysButton holidaysApproved">APPROVED</button>
				{% elif holiday.approved == None %}
					<button class="holidaysButton holidaysWaiting">WAITING</button>
				{% else %}
					{# approved is False #}
					<button class="holidaysButton holidaysRejected">REJECTED</button>
				{% endif %}
			</td>
		</tr>
	{% empty %}
		<tr>
			<td>No holiday taken</td>
		</tr>
	{% endfor %}
</table>